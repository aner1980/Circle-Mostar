<body>  
    {{> site}}
</body>

<template name="site">
	<div id="header-nav">
		<span id="to-game" class="nav">Play</span><span id="to-profile" class="nav">Profile</span>
		{{> loginButtons}}
	</div>

	{{#if currentUser}}
		{{#if pageIs "Game"}}
				{{#if gameStateIs "NotStarted"}}
					{{> gameNotStarted}}
				{{/if}}
				{{#if gameStateIs "Over"}}
					{{> gameOver}}
				{{/if}}
			<div class="game-area">
				<canvas class="ui-element" width="1500" height="850" style="border:1px solid black">
				</canvas>
				<div class="ui-element" id="game-time">
					<span id="game-time-text">0:00</span>
				</div>
				<div class="ui-element" id="game-actives">
					<img class="ui-element a-slot" id="slot-powerup" src="{{getPowerupIcon}}" />
					<img class="ui-element a-slot" id="slot-abil1" src="{{currentUser.profile.abil1}}" />
					<img class="ui-element a-slot" id="slot-abil2" src="{{currentUser.profile.abil2}}" />
					<span class="ui-element keybind" id="kb-p">SP</span>
					<span class="ui-element keybind" id="kb-a1">D</span>
					<span class="ui-element keybind" id="kb-a2">F</span>
				</div>
			</div>
		{{/if}}
		{{#if pageIs "Profile"}}
			{{> profile_page}}
		{{/if}}
	{{/if}}

</template>

<template name="gameNotStarted">
		<div class="g-popup game-start">
			<button type="button">Start Game</button>
		</div>
</template>

<template name="gameOver">
		<div class="g-popup game-start">
			<span class="GOVER">Game Over</span><br />
			<button type="button">Play Again</button>
		</div>
</template>